userName = 'Darek'
userID = 'dktomaszenko'
def mostrarVersionMaven(String a)
{
    bat "java -version"
    echo a
}

pipeline {
    agent any

    stages {
        stage('Info') {
            steps {
                echo "Proceso ejecutado por ${userName}, ID de usuario: ${userID}"
            }
        }
        stage('Java version') {
            steps {
                mostrarVersionMaven("Output")
            }
        }
        stage("Fecha actual")
            {
                steps
                {
                    script
                    {
                        def fecha = new Date()
                        println fecha
                    }
                }
            }
        stage('Foo') {
            steps {
                script {
                    def now = new Date()
                    def _h = int hour(now)
                    if(_h > 12){
                        echo "Darek-OK"
                    } else {
                        echo "Darek-KO"
                    }
                    
                }
            } 
        }            
     
    }
}
